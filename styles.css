* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  line-height: 1.5;
}

/* Variables tema */
:root {
  --bg: #ffffff;
  --text: #111111;
  --muted: #444444;
  --card: #f6f7f9;
  --border: #d0d7de;
  --primary: #0b5fff;
  --primary-text: #ffffff;
  --focus: #ffbf47;
}
html[data-theme="dark"] {
  --bg: #0b0f14;
  --text: #f2f4f8;
  --muted: #c7cfdb;
  --card: #121a24;
  --border: #2a3a4d;
  --primary: #79a8ff;
  --primary-text: #0b0f14;
  --focus: #ffd166;
}
body { background: var(--bg); color: var(--text); }

.container { width: min(1100px, calc(100% - 2rem)); margin: 0 auto; }

/* Skip link */
.skip-link {
  position: absolute; left: -999px; top: 0;
  padding: 0.75rem 1rem;
  background: var(--primary); color: var(--primary-text);
  border-radius: 0.75rem; z-index: 999;
}
.skip-link:focus { left: 0.75rem; top: 0.75rem; }

/* Focus visible */
:focus-visible { outline: 3px solid var(--focus); outline-offset: 3px; }

/* Header */
.site-header {
  border-bottom: 1px solid var(--border);
  background: color-mix(in srgb, var(--bg) 92%, var(--card));
  position: sticky; top: 0; z-index: 10;
}
.header-row {
  display: flex; align-items: center; justify-content: space-between;
  gap: 1rem; padding: 0.75rem 0; flex-wrap: wrap;
}
.brand {
  display: inline-flex; gap: 0.5rem; align-items: center;
  text-decoration: none; color: var(--text); font-weight: 800;
}
.nav-list { display: flex; gap: 0.75rem; list-style: none; padding: 0; margin: 0; }
.nav-link {
  text-decoration: none; color: var(--text);
  padding: 0.4rem 0.6rem; border-radius: 0.65rem;
}
.nav-link:hover { background: var(--card); }
.header-actions { display: flex; gap: 0.5rem; align-items: center; }

/* Tipograf√≠a */
h1 { font-size: clamp(1.6rem, 2.5vw, 2.2rem); margin: 1.25rem 0 0.5rem; }
h2 { font-size: 1.25rem; margin: 0 0 0.75rem; }
.lead { font-size: 1.05rem; color: var(--muted); margin: 0 0 1rem; }
.muted { color: var(--muted); }

.view { padding: 1rem 0 0.5rem; }

/* Cards + botones */
.card {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 1.25rem;
  padding: 1rem;
  box-shadow: 0 1px 0 rgba(0,0,0,0.03);
}
.figure img {
  width: 100%; height: auto;
  border-radius: 0.9rem;
  border: 1px solid var(--border);
}
.actions { display: flex; flex-wrap: wrap; gap: 0.5rem; margin-top: 0.75rem; }

.btn {
  display: inline-flex; align-items: center; justify-content: center;
  gap: 0.5rem;
  border-radius: 0.9rem;
  padding: 0.6rem 0.9rem;
  border: 1px solid transparent;
  cursor: pointer;
  font-weight: 700;
  text-decoration: none;
}
.btn-primary { background: var(--primary); color: var(--primary-text); }
.btn-secondary { background: transparent; color: var(--text); border-color: var(--border); }
.btn-secondary:hover { background: color-mix(in srgb, var(--card) 60%, var(--bg)); }

.pill {
  display: inline-block;
  padding: 0.2rem 0.6rem;
  border-radius: 999px;
  border: 1px solid var(--border);
}

/* Formularios */
.field { margin: 0.9rem 0; }
label { display: inline-block; font-weight: 700; margin-bottom: 0.35rem; }
input, select {
  width: 100%;
  padding: 0.65rem 0.75rem;
  border-radius: 0.8rem;
  border: 1px solid var(--border);
  background: var(--bg);
  color: var(--text);
}
.hint { font-size: 0.9rem; color: var(--muted); margin-top: 0.25rem; }
.error { font-size: 0.95rem; margin-top: 0.35rem; font-weight: 700; }
input[aria-invalid="true"] { border-color: #b42318; }

.field-inline { display: inline-flex; gap: 0.5rem; align-items: center; flex-wrap: wrap; }
.field-inline input, .field-inline select { width: auto; min-width: 220px; }

.sr-alert {
  border-radius: 0.9rem;
  padding: 0.75rem;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--bg) 50%, var(--card));
}
.callout {
  border-left: 5px solid var(--primary);
  padding: 0.75rem 1rem;
  border-radius: 0.9rem;
  background: color-mix(in srgb, var(--card) 70%, var(--bg));
}

/* Accesibilidad */
.sr-only {
  position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px;
  overflow: hidden; clip: rect(0,0,0,0); border: 0;
}

/* Grids base */
.grid-2 { display: grid; grid-template-columns: 1fr; gap: 1rem; }
@media (min-width: 860px) { .grid-2 { grid-template-columns: 1.1fr 0.9fr; } }

/* Tienda layout */
.store-layout { display: grid; grid-template-columns: 1fr; gap: 1rem; }
@media (min-width: 960px) { .store-layout { grid-template-columns: 1.6fr 0.8fr; } }

.card-header {
  display: flex; align-items: start; justify-content: space-between; gap: 1rem;
  flex-wrap: wrap; margin-bottom: 0.75rem;
}
.toolbar { display: flex; gap: 0.75rem; align-items: center; flex-wrap: wrap; }

/* Productos */
.product-grid {
  display: grid;
  grid-template-columns: repeat(1, minmax(0, 1fr));
  gap: 1rem;
}
@media (min-width: 700px) { .product-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); } }
@media (min-width: 1020px) { .product-grid { grid-template-columns: repeat(3, minmax(0, 1fr)); } }

.product-card {
  background: var(--bg);
  border: 1px solid var(--border);
  border-radius: 1.1rem;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}
.product-card img {
  width: 100%;
  height: 160px;
  object-fit: cover;
  border-bottom: 1px solid var(--border);
}
.product-body { padding: 0.85rem; display: grid; gap: 0.35rem; }
.product-title { margin: 0; font-size: 1rem; }
.product-meta { display: flex; justify-content: space-between; gap: 0.5rem; flex-wrap: wrap; }
.badge {
  display: inline-block;
  border: 1px solid var(--border);
  border-radius: 999px;
  padding: 0.1rem 0.55rem;
  font-weight: 700;
}
.price { font-weight: 900; }
.product-actions { padding: 0.85rem; display: flex; gap: 0.5rem; flex-wrap: wrap; }

/* Carrito */
.cart-list { list-style: none; padding: 0; margin: 0; display: grid; gap: 0.75rem; }
.cart-item {
  background: var(--bg);
  border: 1px solid var(--border);
  border-radius: 1rem;
  padding: 0.75rem;
  display: grid;
  gap: 0.4rem;
}
.cart-row { display: flex; justify-content: space-between; gap: 0.5rem; flex-wrap: wrap; }
.qty-controls { display: inline-flex; gap: 0.4rem; align-items: center; }
.qty { font-weight: 900; min-width: 2ch; text-align: center; }

.cart-summary { margin-top: 1rem; border-top: 1px solid var(--border); padding-top: 0.75rem; }
.summary-row { display: flex; justify-content: space-between; padding: 0.35rem 0; }
.summary-row.total { font-size: 1.05rem; }

/* Dialog */
dialog {
  width: min(560px, calc(100% - 2rem));
  border: 1px solid var(--border);
  border-radius: 1.25rem;
  padding: 1rem;
  background: var(--bg);
  color: var(--text);
}
dialog::backdrop { background: rgba(0,0,0,0.45); }
.dialog-actions { display: flex; justify-content: flex-end; gap: 0.5rem; margin-top: 0.75rem; }

/* Footer */
.site-footer { border-top: 1px solid var(--border); margin-top: 2rem; }
.footer-row {
  display: flex; justify-content: space-between; gap: 1rem; flex-wrap: wrap;
  padding: 1rem 0;
}
